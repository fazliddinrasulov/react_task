{"ast":null,"code":"var _jsxFileName = \"/Users/macbookpro/Desktop/ReactTask/src/components/SweetTable/SweetTable.tsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useEffect, useLayoutEffect, useMemo, useRef, useState } from \"react\";\nimport { useTable, useGlobalFilter, useFilters, useAsyncDebounce, usePagination, useSortBy } from \"react-table\";\nimport classnames from \"classnames\";\nimport searchSvgPath from \"../../assets/images/search.svg\";\nimport { createUseStyles } from \"react-jss\";\nimport AnimateHeight from \"react-animate-height\";\nimport { useResizeDetector } from \"react-resize-detector\";\nimport { DatingNamesEnum } from \"../../helpers/helper-function\";\nimport arrowFilter from \"../../assets/images/arrow.svg\";\nimport arrowFilterDown from \"../../assets/images/arrow-down.svg\";\nimport style from \"./SweetTable.module.scss\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { Button } from \"../Button/Button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { createElement as _createElement } from \"react\";\nexport const cla = classnames;\nconst useSweetNpmReactJss = tableColumns => {\n  const classNamesForEachColumnWidth = () => {\n    const initObj = {};\n    tableColumns.forEach(x => {\n      const id = x.accessor;\n      const minWidth = x.prioritizedStyles.minWidth;\n      const flexGrow = x.prioritizedStyles.flexGrow;\n      const npmReactJssStylingObject = {\n        cell: {\n          width: `${minWidth}px`,\n          flexGrow: flexGrow\n        }\n      };\n      const getClasses = createUseStyles(npmReactJssStylingObject, {\n        name: style.uni\n      });\n      const classes = getClasses();\n      initObj[id] = classes;\n    });\n    return initObj;\n  };\n  const theClasses = classNamesForEachColumnWidth();\n  return {\n    classNamesForEachColWidth: theClasses\n  };\n};\nexport const SweetTable = _ref => {\n  _s();\n  let {\n    className,\n    tableColumns,\n    columnsToHideInPureFlowForNarrowTable = [],\n    tableData,\n    narrowHasCollapseExpandButton,\n    narrowRowTopBoxContentMaker,\n    narrowRowBottomBoxContentMaker,\n    eachPageSize = 8,\n    searchTerm,\n    changeEachPageSize,\n    idsOfDatings = [DatingNamesEnum.all]\n  } = _ref;\n  const basicMinHeight = eachPageSize * 56;\n  const numberOfCols = tableColumns.length;\n  const widthBreakPoint = tableColumns.reduce((accu, item) => accu + item.prioritizedStyles.minWidth, 0) + numberOfCols * 5 * 2 + 8;\n  const recentlyInitPage = useRef(true);\n  const is900AndDown = useMediaQuery({\n    query: \"(max-width: 900px)\"\n  });\n  const idOfLastVisibleColumnForNarrowTable = useMemo(() => {\n    const arrOfIsVisible = tableColumns.filter(x => !columnsToHideInPureFlowForNarrowTable.includes(x.accessor));\n    const lastId = arrOfIsVisible[arrOfIsVisible.length - 1].accessor;\n    return lastId;\n  }, [columnsToHideInPureFlowForNarrowTable, tableColumns]);\n  const [searchCount, setSearchCount] = useState(0);\n  const {\n    ref: tableRef,\n    width: tableWidth\n  } = useResizeDetector({\n    handleHeight: false,\n    refreshMode: \"debounce\",\n    refreshRate: 500\n    // onResize\n  });\n\n  useLayoutEffect(() => {\n    setTimeout(() => {\n      recentlyInitPage.current = false;\n    }, 3000);\n  }, []);\n  const tableIsNarrow = useMemo(() => {\n    var _tableRef$current;\n    const offsetWidth = (_tableRef$current = tableRef.current) === null || _tableRef$current === void 0 ? void 0 : _tableRef$current.offsetWidth;\n    if (!offsetWidth) {\n      if (recentlyInitPage.current) {\n        return is900AndDown;\n      } else {\n        return false;\n      }\n    }\n    if (offsetWidth <= widthBreakPoint) {\n      return true;\n    } else {\n      return false;\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [tableWidth, widthBreakPoint]);\n  const tableIsNarrowRef = useRef(tableIsNarrow);\n  tableIsNarrowRef.current = tableIsNarrow;\n  const tableInstance = useTable({\n    // @ts-ignore\n    columns: tableColumns,\n    data: tableData,\n    // @ts-ignore\n    initialState: {\n      pageSize: eachPageSize\n    }\n  }, useFilters, useGlobalFilter, useSortBy, usePagination);\n  const {\n    state,\n    // @ts-ignore\n    setGlobalFilter,\n    // @ts-ignore\n    setFilter,\n    // @ts-ignore\n    setSortBy\n  } = tableInstance;\n  const {\n    // globalFilter,\n\n    // @ts-ignore\n    filters\n  } = state;\n\n  // @ts-ignore\n\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    prepareRow\n  } = tableInstance;\n  const page = tableInstance.page;\n  const cl_narrowTable_wideTable = tableIsNarrow ? style.narrowTable : style.wideTable;\n  const [mapOfCollapsedRows] = useState(tableData.map(x => false));\n  const {\n    classNamesForEachColWidth\n  } = useSweetNpmReactJss(tableColumns);\n  const [headerAniHeight, setHeaderAniHeight] = useState(\"auto\");\n  useEffect(() => {\n    setGlobalFilter(searchTerm);\n    setSearchCount(tableInstance.columns.length);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchTerm]);\n  useEffect(() => {\n    const updateHeaderAni = () => {\n      if (tableIsNarrowRef.current) {\n        setHeaderAniHeight(0);\n      } else {\n        setHeaderAniHeight(\"auto\");\n      }\n    };\n    let timer = undefined;\n    if (recentlyInitPage.current) {\n      timer = setTimeout(() => {\n        updateHeaderAni();\n      }, 300);\n    }\n    if (!recentlyInitPage.current) {\n      updateHeaderAni();\n    }\n    return () => {\n      if (timer) {\n        clearTimeout(timer);\n      }\n    };\n  }, [tableIsNarrow]);\n  const changeGloFilterWithDebouncer = useAsyncDebounce(value => {\n    setGlobalFilter(value);\n  }, 1000);\n  const [searchString, setSearchString] = useState(\"\");\n  const searchStringChanger = useCallback(e => {\n    const newVal = e.target.value;\n    setSearchString(prev => newVal);\n    changeGloFilterWithDebouncer(newVal);\n  }, [changeGloFilterWithDebouncer]);\n  const datingIndexRef = useRef(-1);\n  const datingIndexPrevRef = useRef(-1);\n  const datingFilterInitiated = useRef(false);\n  useEffect(() => {\n    var _filt$find;\n    const filt = filters;\n    const nowDatingFilter = (_filt$find = filt.find(x => x.id === \"date\")) === null || _filt$find === void 0 ? void 0 : _filt$find.value;\n    if (!datingFilterInitiated.current && typeof nowDatingFilter === \"number\") {\n      datingFilterInitiated.current = true;\n    }\n    if (datingFilterInitiated.current && nowDatingFilter === undefined) {\n      setTimeout(() => {\n        setFilter(\"date\", datingIndexPrevRef.current);\n      }, 50);\n    }\n    datingIndexRef.current = nowDatingFilter || -1;\n    if (typeof nowDatingFilter === \"number\") {\n      datingIndexPrevRef.current = nowDatingFilter;\n    }\n  }, [filters, setFilter]);\n  const sortByDate = sortStr => setSortBy([{\n    id: \"name\",\n    ...(sortStr === \"ASC\" ? {\n      asc: true\n    } : {\n      desc: true\n    })\n  }]);\n  const isSearchResultPage = false;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: cla(className, style.tableWrap, cl_narrowTable_wideTable),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.beforeTable,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.beforeTableLeft,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: style.beforeTableTitle,\n          children: \"Users\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: tableData.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 9\n      }, this), !isSearchResultPage && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.searchBox,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: style.searchIconWrap,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: style.searchIcon,\n            src: searchSvgPath,\n            alt: \"search icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: style.searchInput,\n          placeholder: \"Search\",\n          value: searchString,\n          onChange: searchStringChanger\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: tableRef,\n      className: cla(style.myTable, cl_narrowTable_wideTable),\n      ...getTableProps(),\n      children: [/*#__PURE__*/_jsxDEV(AnimateHeight, {\n        easing: \"ease-in-out\",\n        duration: 800,\n        height: headerAniHeight,\n        className: cla(style.tHead, cl_narrowTable_wideTable),\n        children: headerGroups.map((headerGroup, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: cla(style.tHeadRow, cl_narrowTable_wideTable),\n          ...headerGroup.getHeaderGroupProps(),\n          children: headerGroup.headers.map(column => {\n            return /*#__PURE__*/_createElement(\"div\", {\n              className: cla(style.tH, classNamesForEachColWidth[column.id].cell, cl_narrowTable_wideTable),\n              ...column.getHeaderProps(),\n              key: column.id,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 23\n              }\n            }, column.render(\"Header\") === \"User Name\" ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: style.tableTitle,\n              children: [column.render(\"Header\"), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: style.tableArrows,\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: arrowFilter,\n                  onClick: () => sortByDate(\"Desc\"),\n                  className: style.tableImage,\n                  alt: \"arrowFilter\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 31\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: arrowFilterDown,\n                  onClick: () => sortByDate(\"ASC\"),\n                  className: style.tableImage,\n                  alt: \"arrowFilterDown\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 442,\n                  columnNumber: 31\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 27\n            }, this) : column.render(\"Header\"));\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: tableIsNarrow ? undefined : {\n          minHeight: `${basicMinHeight}px`\n        },\n        className: cla(style.tBody, cl_narrowTable_wideTable),\n        ...getTableBodyProps(),\n        children: page.map((row, rowInd) => {\n          prepareRow(row);\n          let rowIsCollapsed = mapOfCollapsedRows[rowInd];\n          const cl_collapsedRow_expandedRow = rowIsCollapsed ? style.collapsedRow : style.expandedRow;\n          return /*#__PURE__*/_createElement(\"div\", {\n            className: cla(style.tRow, cl_narrowTable_wideTable, cl_collapsedRow_expandedRow),\n            ...row.getRowProps(),\n            key: rowInd,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 15\n            }\n          }, tableIsNarrow && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: cla(style.rowTopBox),\n            children: narrowRowTopBoxContentMaker && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: narrowRowTopBoxContentMaker({\n                columns: tableColumns,\n                row,\n                payload: undefined\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(AnimateHeight, {\n            height: mapOfCollapsedRows[rowInd] ? 0 : \"auto\",\n            duration: 800,\n            className: cla(style.rowBody),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: cla(style.pureCellFlow, cl_narrowTable_wideTable),\n              children: row.cells.map(cell => {\n                const columnId = cell.column.id;\n                const cl_hid_visible = tableIsNarrow && columnsToHideInPureFlowForNarrowTable.includes(columnId) ? style.hid : style.visible;\n                const cl_lastVis_notLastVis = idOfLastVisibleColumnForNarrowTable === columnId ? style.lastVis : style.notLastVis;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: cla(style.tD, classNamesForEachColWidth[columnId].cell, cl_narrowTable_wideTable, cl_hid_visible, cl_lastVis_notLastVis),\n                  \"data-label\": cell.column.id,\n                  ...cell.getCellProps(),\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: cla(style.label, cl_narrowTable_wideTable),\n                    children: cell.column.render(\"Header\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 576,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: cla(style.value, cl_narrowTable_wideTable),\n                    children: cell.render(\"Cell\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 584,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 565,\n                  columnNumber: 27\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 19\n            }, this), tableIsNarrow && narrowRowBottomBoxContentMaker && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: cla(style.rowBottomBox),\n              children: narrowRowBottomBoxContentMaker({\n                columns: tableColumns,\n                row,\n                payload: undefined\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 599,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 17\n          }, this));\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"submit\",\n      className: style.addToBasket,\n      text: \"Save\",\n      kind: \"bBlack\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 614,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 352,\n    columnNumber: 5\n  }, this);\n};\n_s(SweetTable, \"jayysmKJIZd3CPGbBPHGCsw+htY=\", false, function () {\n  return [useMediaQuery, useResizeDetector, useTable, useSweetNpmReactJss, useAsyncDebounce];\n});\n_c = SweetTable;\nvar _c;\n$RefreshReg$(_c, \"SweetTable\");","map":{"version":3,"names":["React","useCallback","useEffect","useLayoutEffect","useMemo","useRef","useState","useTable","useGlobalFilter","useFilters","useAsyncDebounce","usePagination","useSortBy","classnames","searchSvgPath","createUseStyles","AnimateHeight","useResizeDetector","DatingNamesEnum","arrowFilter","arrowFilterDown","style","useMediaQuery","Button","cla","useSweetNpmReactJss","tableColumns","classNamesForEachColumnWidth","initObj","forEach","x","id","accessor","minWidth","prioritizedStyles","flexGrow","npmReactJssStylingObject","cell","width","getClasses","name","uni","classes","theClasses","classNamesForEachColWidth","SweetTable","className","columnsToHideInPureFlowForNarrowTable","tableData","narrowHasCollapseExpandButton","narrowRowTopBoxContentMaker","narrowRowBottomBoxContentMaker","eachPageSize","searchTerm","changeEachPageSize","idsOfDatings","all","basicMinHeight","numberOfCols","length","widthBreakPoint","reduce","accu","item","recentlyInitPage","is900AndDown","query","idOfLastVisibleColumnForNarrowTable","arrOfIsVisible","filter","includes","lastId","searchCount","setSearchCount","ref","tableRef","tableWidth","handleHeight","refreshMode","refreshRate","setTimeout","current","tableIsNarrow","offsetWidth","tableIsNarrowRef","tableInstance","columns","data","initialState","pageSize","state","setGlobalFilter","setFilter","setSortBy","filters","getTableProps","getTableBodyProps","headerGroups","prepareRow","page","cl_narrowTable_wideTable","narrowTable","wideTable","mapOfCollapsedRows","map","headerAniHeight","setHeaderAniHeight","updateHeaderAni","timer","undefined","clearTimeout","changeGloFilterWithDebouncer","value","searchString","setSearchString","searchStringChanger","e","newVal","target","prev","datingIndexRef","datingIndexPrevRef","datingFilterInitiated","filt","nowDatingFilter","find","sortByDate","sortStr","asc","desc","isSearchResultPage","tableWrap","beforeTable","beforeTableLeft","beforeTableTitle","searchBox","searchIconWrap","searchIcon","searchInput","myTable","tHead","headerGroup","index","tHeadRow","getHeaderGroupProps","headers","column","tH","getHeaderProps","render","tableTitle","tableArrows","tableImage","minHeight","tBody","row","rowInd","rowIsCollapsed","cl_collapsedRow_expandedRow","collapsedRow","expandedRow","tRow","getRowProps","rowTopBox","payload","rowBody","pureCellFlow","cells","columnId","cl_hid_visible","hid","visible","cl_lastVis_notLastVis","lastVis","notLastVis","tD","getCellProps","label","rowBottomBox","addToBasket"],"sources":["/Users/macbookpro/Desktop/ReactTask/src/components/SweetTable/SweetTable.tsx"],"sourcesContent":["import React, {\n  ReactNode,\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport {\n  Row,\n  useTable,\n  useGlobalFilter,\n  useFilters,\n  useAsyncDebounce,\n  usePagination,\n  useSortBy,\n} from \"react-table\";\nimport classnames from \"classnames\";\nimport searchSvgPath from \"../../assets/images/search.svg\";\n\nimport { createUseStyles } from \"react-jss\";\nimport AnimateHeight from \"react-animate-height\";\nimport { useResizeDetector } from \"react-resize-detector\";\n\nimport { Classes } from \"jss\";\nimport { DatingNamesEnum } from \"../../helpers/helper-function\";\n\nimport arrowFilter from \"../../assets/images/arrow.svg\";\nimport arrowFilterDown from \"../../assets/images/arrow-down.svg\";\n\nimport style from \"./SweetTable.module.scss\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { Button } from \"../Button/Button\";\n\nexport const cla = classnames;\n\nexport interface IMyCell {\n  value: string | boolean;\n  row: { id: string; index: number };\n  column: { Header: string };\n  tableIsNarrow?: boolean;\n}\n\nexport type FilterFnOfTableT = (\n  rows: {\n    allCells: any[];\n    cells: any[];\n    depth: number;\n    id: string;\n    index: number;\n    original: { [key: string]: any };\n    values: { [key: string]: any };\n  }[],\n  columnIds: string[],\n  filterValue: any\n) => any[];\n\nexport interface IMyColumn {\n  Header: Exclude<ReactNode | (() => ReactNode), null>;\n  accessor: string;\n  Cell?: (cell: IMyCell) => ReactNode;\n\n  prioritizedStyles: {\n    minWidth: number;\n    flexGrow: number;\n  };\n\n  filter?: FilterFnOfTableT;\n}\n\nexport type MyColumnsT = IMyColumn[];\n\nexport interface IMyRow {\n  [key: string]: ReactNode;\n}\n\nexport type MyTableDataT = IMyRow[];\n\nexport interface ICustomTopBottom {\n  row: Row<IMyRow>;\n  columns: MyColumnsT;\n  payload: any;\n}\n\nexport interface IStylingObjectForNpmReactJss {\n  [key: string]: React.CSSProperties | undefined; // key will be part of the classname string\n}\n\nconst useSweetNpmReactJss = (tableColumns: MyColumnsT) => {\n  const classNamesForEachColumnWidth = () => {\n    const initObj: { [key: string]: Classes<string> } = {};\n    tableColumns.forEach((x) => {\n      const id = x.accessor;\n      const minWidth = x.prioritizedStyles.minWidth;\n      const flexGrow = x.prioritizedStyles.flexGrow;\n\n      const npmReactJssStylingObject = {\n        cell: {\n          width: `${minWidth}px`,\n          flexGrow: flexGrow,\n        },\n      };\n\n      const getClasses = createUseStyles(npmReactJssStylingObject, {\n        name: style.uni,\n      });\n      const classes = getClasses();\n\n      initObj[id] = classes;\n    });\n\n    return initObj;\n  };\n\n  const theClasses = classNamesForEachColumnWidth();\n\n  return { classNamesForEachColWidth: theClasses };\n};\n\nexport const SweetTable: React.FC<{\n  className?: string;\n  tableColumns: MyColumnsT;\n  columnsToHideInPureFlowForNarrowTable?: string[];\n  tableData: MyTableDataT;\n  RowsAreCollapsedInitiallyForNarrowTable?: boolean;\n  narrowHasCollapseExpandButton: boolean;\n  narrowRowTopBoxContentMaker?: React.FC<ICustomTopBottom>;\n  narrowRowBottomBoxContentMaker?: React.FC<ICustomTopBottom>;\n  eachPageSize?: number;\n  searchTerm?: string;\n  changeEachPageSize: (num: number) => any;\n  idsOfDatings?: DatingNamesEnum[];\n}> = ({\n  className,\n  tableColumns,\n  columnsToHideInPureFlowForNarrowTable = [],\n  tableData,\n  narrowHasCollapseExpandButton,\n  narrowRowTopBoxContentMaker,\n  narrowRowBottomBoxContentMaker,\n  eachPageSize = 8,\n  searchTerm,\n  changeEachPageSize,\n  idsOfDatings = [DatingNamesEnum.all],\n}) => {\n  const basicMinHeight = eachPageSize * 56;\n  const numberOfCols = tableColumns.length;\n  const widthBreakPoint =\n    tableColumns.reduce(\n      (accu, item) => accu + item.prioritizedStyles.minWidth,\n      0\n    ) +\n    numberOfCols * 5 * 2 +\n    8;\n\n  const recentlyInitPage = useRef(true);\n  const is900AndDown = useMediaQuery({ query: \"(max-width: 900px)\" });\n\n  const idOfLastVisibleColumnForNarrowTable = useMemo(() => {\n    const arrOfIsVisible = tableColumns.filter(\n      (x) => !columnsToHideInPureFlowForNarrowTable.includes(x.accessor)\n    );\n    const lastId = arrOfIsVisible[arrOfIsVisible.length - 1].accessor;\n    return lastId;\n  }, [columnsToHideInPureFlowForNarrowTable, tableColumns]);\n\n  const [searchCount, setSearchCount] = useState(0);\n\n  const {\n    ref: tableRef,\n    width: tableWidth,\n  }: {\n    ref: React.MutableRefObject<HTMLTableElement | null>;\n    height?: number;\n    width?: number;\n  } = useResizeDetector({\n    handleHeight: false,\n    refreshMode: \"debounce\",\n    refreshRate: 500,\n    // onResize\n  });\n\n  useLayoutEffect(() => {\n    setTimeout(() => {\n      recentlyInitPage.current = false;\n    }, 3000);\n  }, []);\n\n  const tableIsNarrow = useMemo(() => {\n    const offsetWidth = tableRef.current?.offsetWidth;\n\n    if (!offsetWidth) {\n      if (recentlyInitPage.current) {\n        return is900AndDown;\n      } else {\n        return false;\n      }\n    }\n\n    if (offsetWidth <= widthBreakPoint) {\n      return true;\n    } else {\n      return false;\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [tableWidth, widthBreakPoint]);\n\n  const tableIsNarrowRef = useRef(tableIsNarrow);\n  tableIsNarrowRef.current = tableIsNarrow;\n\n  const tableInstance = useTable(\n    {\n      // @ts-ignore\n      columns: tableColumns,\n      data: tableData,\n      // @ts-ignore\n      initialState: { pageSize: eachPageSize },\n    },\n    useFilters,\n    useGlobalFilter,\n    useSortBy,\n    usePagination\n  );\n\n  const {\n    state,\n\n    // @ts-ignore\n    setGlobalFilter,\n\n    // @ts-ignore\n    setFilter,\n    // @ts-ignore\n    setSortBy,\n  } = tableInstance;\n\n  const {\n    // globalFilter,\n\n    // @ts-ignore\n    filters,\n  } = state;\n\n  // @ts-ignore\n\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n\n    prepareRow,\n  } = tableInstance;\n\n  const page: Row<IMyRow>[] = (tableInstance as any).page;\n\n  const cl_narrowTable_wideTable = tableIsNarrow\n    ? style.narrowTable\n    : style.wideTable;\n\n  const [mapOfCollapsedRows] = useState(tableData.map((x) => false));\n\n  const { classNamesForEachColWidth } = useSweetNpmReactJss(tableColumns);\n\n  const [headerAniHeight, setHeaderAniHeight] = useState<number | \"auto\">(\n    \"auto\"\n  );\n\n  useEffect(() => {\n    setGlobalFilter(searchTerm);\n    setSearchCount(tableInstance.columns.length);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchTerm]);\n\n  useEffect(() => {\n    const updateHeaderAni = () => {\n      if (tableIsNarrowRef.current) {\n        setHeaderAniHeight(0);\n      } else {\n        setHeaderAniHeight(\"auto\");\n      }\n    };\n\n    let timer: NodeJS.Timeout | undefined | null = undefined;\n\n    if (recentlyInitPage.current) {\n      timer = setTimeout(() => {\n        updateHeaderAni();\n      }, 300);\n    }\n\n    if (!recentlyInitPage.current) {\n      updateHeaderAni();\n    }\n\n    return () => {\n      if (timer) {\n        clearTimeout(timer);\n      }\n    };\n  }, [tableIsNarrow]);\n\n  const changeGloFilterWithDebouncer = useAsyncDebounce((value: any) => {\n    setGlobalFilter(value);\n  }, 1000);\n\n  const [searchString, setSearchString] = useState(\"\");\n\n  const searchStringChanger: React.ChangeEventHandler<HTMLInputElement> =\n    useCallback(\n      (e) => {\n        const newVal = e.target.value;\n        setSearchString((prev) => newVal);\n        changeGloFilterWithDebouncer(newVal);\n      },\n      [changeGloFilterWithDebouncer]\n    );\n\n  const datingIndexRef = useRef<number>(-1);\n  const datingIndexPrevRef = useRef<number>(-1);\n  const datingFilterInitiated = useRef(false);\n\n  useEffect(() => {\n    const filt = filters as { id: string; value: number }[];\n    const nowDatingFilter = filt.find((x) => x.id === \"date\")?.value;\n\n    if (!datingFilterInitiated.current && typeof nowDatingFilter === \"number\") {\n      datingFilterInitiated.current = true;\n    }\n\n    if (datingFilterInitiated.current && nowDatingFilter === undefined) {\n      setTimeout(() => {\n        setFilter(\"date\", datingIndexPrevRef.current);\n      }, 50);\n    }\n\n    datingIndexRef.current = nowDatingFilter || -1;\n    if (typeof nowDatingFilter === \"number\") {\n      datingIndexPrevRef.current = nowDatingFilter;\n    }\n  }, [filters, setFilter]);\n\n  const sortByDate = (sortStr: string) =>\n    setSortBy([\n      { id: \"name\", ...(sortStr === \"ASC\" ? { asc: true } : { desc: true }) },\n    ]);\n\n  const isSearchResultPage = false;\n\n  return (\n    <div className={cla(className, style.tableWrap, cl_narrowTable_wideTable)}>\n      <div className={style.beforeTable}>\n        <div className={style.beforeTableLeft}>\n          <div className={style.beforeTableTitle}>Users</div>\n          <span>{tableData.length}</span>\n        </div>\n        {!isSearchResultPage && (\n          <div className={style.searchBox}>\n            <div className={style.searchIconWrap}>\n              <img\n                className={style.searchIcon}\n                src={searchSvgPath}\n                alt={\"search icon\"}\n              />\n            </div>\n            <input\n              className={style.searchInput}\n              placeholder={\"Search\"}\n              value={searchString}\n              onChange={searchStringChanger}\n            />\n          </div>\n        )}\n      </div>\n\n      <div\n        ref={tableRef}\n        className={cla(style.myTable, cl_narrowTable_wideTable)}\n        {...getTableProps()}\n      >\n        <AnimateHeight\n          easing={\"ease-in-out\"}\n          duration={800}\n          height={headerAniHeight}\n          className={cla(style.tHead, cl_narrowTable_wideTable)}\n        >\n          {headerGroups.map(\n            (\n              headerGroup: {\n                getHeaderGroupProps: () => JSX.IntrinsicAttributes &\n                  React.ClassAttributes<HTMLDivElement> &\n                  React.HTMLAttributes<HTMLDivElement>;\n                headers: any[];\n              },\n              index: any\n            ) => (\n              <div\n                className={cla(style.tHeadRow, cl_narrowTable_wideTable)}\n                {...headerGroup.getHeaderGroupProps()}\n              >\n                {headerGroup.headers.map(\n                  (column: {\n                    id: React.Key | any;\n                    getHeaderProps: () => JSX.IntrinsicAttributes &\n                      React.ClassAttributes<HTMLDivElement> &\n                      React.HTMLAttributes<HTMLDivElement>;\n                    render: (\n                      arg0: string\n                    ) =>\n                      | string\n                      | number\n                      | boolean\n                      | React.ReactElement<\n                          any,\n                          string | React.JSXElementConstructor<any>\n                        >\n                      | React.ReactFragment\n                      | null\n                      | undefined;\n                  }) => {\n                    return (\n                      <div\n                        className={cla(\n                          style.tH,\n                          classNamesForEachColWidth[column.id].cell,\n                          cl_narrowTable_wideTable\n                        )}\n                        {...column.getHeaderProps()}\n                        key={column.id}\n                      >\n                        {column.render(\"Header\") === \"User Name\" ? (\n                          <span className={style.tableTitle}>\n                            {column.render(\"Header\")}\n                            <span className={style.tableArrows}>\n                              <img\n                                src={arrowFilter}\n                                onClick={() => sortByDate(\"Desc\")}\n                                className={style.tableImage}\n                                alt={\"arrowFilter\"}\n                              />\n                              <img\n                                src={arrowFilterDown}\n                                onClick={() => sortByDate(\"ASC\")}\n                                className={style.tableImage}\n                                alt={\"arrowFilterDown\"}\n                              />\n                            </span>\n                          </span>\n                        ) : (\n                          column.render(\"Header\")\n                        )}\n                      </div>\n                    );\n                  }\n                )}\n              </div>\n            )\n          )}\n        </AnimateHeight>\n\n        <div\n          style={\n            tableIsNarrow ? undefined : { minHeight: `${basicMinHeight}px` }\n          }\n          className={cla(style.tBody, cl_narrowTable_wideTable)}\n          {...getTableBodyProps()}\n        >\n          {page.map((row, rowInd) => {\n            prepareRow(row);\n\n            let rowIsCollapsed = mapOfCollapsedRows[rowInd];\n\n            const cl_collapsedRow_expandedRow = rowIsCollapsed\n              ? style.collapsedRow\n              : style.expandedRow;\n\n            return (\n              <div\n                className={cla(\n                  style.tRow,\n                  cl_narrowTable_wideTable,\n                  cl_collapsedRow_expandedRow\n                )}\n                {...row.getRowProps()}\n                key={rowInd}\n              >\n                {tableIsNarrow && (\n                  <div className={cla(style.rowTopBox)}>\n                    {narrowRowTopBoxContentMaker && (\n                      <div>\n                        {narrowRowTopBoxContentMaker({\n                          columns: tableColumns,\n                          row,\n                          payload: undefined,\n                        })}\n                      </div>\n                    )}\n                  </div>\n                )}\n\n                <AnimateHeight\n                  height={mapOfCollapsedRows[rowInd] ? 0 : \"auto\"}\n                  duration={800}\n                  className={cla(style.rowBody)}\n                >\n                  <div\n                    className={cla(\n                      style.pureCellFlow,\n                      cl_narrowTable_wideTable\n                    )}\n                  >\n                    {row.cells.map(\n                      (cell: {\n                        column: {\n                          id: any;\n                          render: (\n                            arg0: string\n                          ) =>\n                            | string\n                            | number\n                            | boolean\n                            | React.ReactElement<\n                                any,\n                                string | React.JSXElementConstructor<any>\n                              >\n                            | React.ReactFragment\n                            | React.ReactPortal\n                            | null\n                            | undefined;\n                        };\n                        getCellProps: () => JSX.IntrinsicAttributes &\n                          React.ClassAttributes<HTMLDivElement> &\n                          React.HTMLAttributes<HTMLDivElement>;\n                        render: (\n                          arg0: string\n                        ) =>\n                          | string\n                          | number\n                          | boolean\n                          | React.ReactElement<\n                              any,\n                              string | React.JSXElementConstructor<any>\n                            >\n                          | React.ReactFragment\n                          | React.ReactPortal\n                          | null\n                          | undefined;\n                      }) => {\n                        const columnId = cell.column.id;\n                        const cl_hid_visible =\n                          tableIsNarrow &&\n                          columnsToHideInPureFlowForNarrowTable.includes(\n                            columnId\n                          )\n                            ? style.hid\n                            : style.visible;\n\n                        const cl_lastVis_notLastVis =\n                          idOfLastVisibleColumnForNarrowTable === columnId\n                            ? style.lastVis\n                            : style.notLastVis;\n\n                        return (\n                          <div\n                            className={cla(\n                              style.tD,\n                              classNamesForEachColWidth[columnId].cell,\n                              cl_narrowTable_wideTable,\n                              cl_hid_visible,\n                              cl_lastVis_notLastVis\n                            )}\n                            data-label={cell.column.id}\n                            {...cell.getCellProps()}\n                          >\n                            <div\n                              className={cla(\n                                style.label,\n                                cl_narrowTable_wideTable\n                              )}\n                            >\n                              {cell.column.render(\"Header\")}\n                            </div>\n                            <div\n                              className={cla(\n                                style.value,\n                                cl_narrowTable_wideTable\n                              )}\n                            >\n                              {cell.render(\"Cell\")}\n                            </div>\n                          </div>\n                        );\n                      }\n                    )}\n                  </div>\n\n                  {tableIsNarrow && narrowRowBottomBoxContentMaker && (\n                    <div className={cla(style.rowBottomBox)}>\n                      {narrowRowBottomBoxContentMaker({\n                        columns: tableColumns,\n                        row,\n                        payload: undefined,\n                      })}\n                    </div>\n                  )}\n                </AnimateHeight>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n      <Button\n        type={\"submit\"}\n        className={style.addToBasket}\n        text={\"Save\"}\n        kind={\"bBlack\"}\n      />\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}